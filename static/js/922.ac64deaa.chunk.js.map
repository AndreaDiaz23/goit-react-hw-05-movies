{"version":3,"file":"static/js/922.ac64deaa.chunk.js","mappings":"qPACA,EAAuB,qB,SCIjBA,GAAiBC,EAAAA,EAAAA,OAAK,kBAAM,4BAAwD,IA8C1F,EA5Ce,WACb,IAAAC,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAlDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GACpCI,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAjCG,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAClBG,EAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMC,GAAK,IAAAC,EAAAC,EAAA,OAAAJ,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,GACHC,EAAAA,EAAAA,GAAiB,mDAADC,OACWP,EAAK,+CACxD,KAAD,EAFc,OAEdC,EAAAE,EAAAK,KAFON,EAAOD,EAAPC,QAAOC,EAAAM,OAAA,SAGRP,GAAO,wBAAAC,EAAAO,OAAA,GAAAX,EAAA,KACf,gBALgBY,GAAA,OAAAf,EAAAgB,MAAA,KAAAC,UAAA,MAOjBC,EAAAA,EAAAA,YAAU,WACR,IAAIC,EAAc3B,EAAa4B,IAAI,SAC7BC,EAAK,eAAAC,GAAArB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAqB,IAAA,IAAAjB,EAAA,OAAAJ,IAAAA,MAAA,SAAAsB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,WACRU,EAAY,CAADK,EAAAf,KAAA,eAAAe,EAAAf,KAAA,EACSV,EAAYoB,GAAa,KAAD,EAAxCb,EAAOkB,EAAAZ,KACbd,EAAUQ,GAAS,wBAAAkB,EAAAV,OAAA,GAAAS,EAAA,KAEtB,kBALU,OAAAD,EAAAN,MAAA,KAAAC,UAAA,KAMXI,GACF,GAAG,CAAC7B,IAEJ,IAAMiC,EAAc,eAAAC,GAAAzB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAyB,EAAMC,GAAC,IAAAT,EAAAb,EAAA,OAAAJ,IAAAA,MAAA,SAAA2B,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,OAE6B,OADzDmB,EAAEE,iBACIX,EAAcS,EAAEG,cAAcC,SAASC,OAAO7B,MAAKyB,EAAApB,KAAA,EACnCV,EAAYoB,GAAa,KAAD,EAAxCb,EAAOuB,EAAAjB,KACbnB,EAAgB,CAAEyC,MAAOf,IACzBrB,EAAUQ,GACVsB,EAAEO,OAAOC,QAAQ,wBAAAP,EAAAf,OAAA,GAAAa,EAAA,KAClB,gBAPmBU,GAAA,OAAAX,EAAAV,MAAA,KAAAC,UAAA,KAQpB,OACEqB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAAA,QAAMG,SAAUhB,EAAgBiB,UAAWC,EAASH,SAAA,EAClDI,EAAAA,EAAAA,KAAA,SAAOC,KAAK,OAAOC,KAAK,SAASC,UAAQ,KACzCH,EAAAA,EAAAA,KAAA,UAAQC,KAAK,SAAQL,SAAC,eAExBI,EAAAA,EAAAA,KAAA,OAAAJ,SACG3C,EAAOmD,QACNJ,EAAAA,EAAAA,KAAC1D,EAAc,CAACW,OAAQA,EAAQoD,OAAO,SACrCC,MAIZ,C,8FChDAC,EAAAA,EAAAA,SAAAA,QAAAA,OAAAA,cACE,6NACF,IAAMzC,EAAgB,eAAAV,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMiD,GAAG,IAAAC,EAAAC,EAAA,OAAApD,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEN0C,EAAAA,EAAAA,IAAUC,EAAK,CACrCG,OAAQ,qBACP,KAAD,EACU,OAHNF,EAAS9C,EAAAK,KAGP0C,EAASD,EAATC,KAAI/C,EAAAM,OAAA,SACLyC,GAAI,aAAA/C,EAAAC,KAAA,EAAAD,EAAAiD,GAAAjD,EAAA,SAEL,IAAIkD,MAAKlD,EAAAiD,IAAQ,KAAD,oBAAAjD,EAAAO,OAAA,GAAAX,EAAA,kBAEzB,gBAVqBY,GAAA,OAAAf,EAAAgB,MAAA,KAAAC,UAAA,I","sources":["webpack://react-homework-template/./src/Pages/Movies/styles.module.css?e1a8","Pages/Movies/Movies.jsx","js/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__qt5kC\"};","import { fetchTrendMovies } from 'js/api';\nimport { lazy, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './styles.module.css';\n\nconst TrendingMovies = lazy(() => import('../../components/TrendingMovies/TrendingMovies'));\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const fetchMovies = async value => {\n    const { results } = await fetchTrendMovies(\n      `https://api.themoviedb.org/3/search/movie?query=${value}&include_adult=false&language=en-US&page=1`\n    );\n    return results;\n  };\n\n  useEffect(() => {\n    let searchValue = searchParams.get('query');\n    const fetch = async () => {\n      if (searchValue) {\n        const results = await fetchMovies(searchValue);\n        setMovies(results);\n      }\n    };\n    fetch();\n  }, [searchParams]);\n\n  const onHandleSubmit = async e => {\n    e.preventDefault();\n    const searchValue = e.currentTarget.elements.search.value;\n    const results = await fetchMovies(searchValue);\n    setSearchParams({ query: searchValue });\n    setMovies(results);\n    e.target.reset();\n  };\n  return (\n    <>\n      <form onSubmit={onHandleSubmit} className={css.form}>\n        <input type=\"text\" name=\"search\" required />\n        <button type=\"submit\">Search</button>\n      </form>\n      <div>\n        {movies.length ? (\n          <TrendingMovies movies={movies} route={false} />\n        ) : undefined}\n      </div>\n    </>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\naxios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4NjU0OGJiYzA3MmU1OWQ4ZmUwYzMzMmNlZTVhMTBkMiIsInN1YiI6IjY2MTc0ZTg5N2UxMmYwMDE2M2YxNWM4OSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4rXGBSDbiKST6RdATvUUD3H6d71Aj46O4PLqxn27lVs';\nconst fetchTrendMovies = async url => {\n  try {\n    const fetchInfo = await axios.get(url, {\n      accept: 'application/json',\n    });\n    const { data } = fetchInfo;\n    return data;\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport { fetchTrendMovies };\n\n\n/* \napi key\n86548bbc072e59d8fe0c332cee5a10d2\ntoken\neyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4NjU0OGJiYzA3MmU1OWQ4ZmUwYzMzMmNlZTVhMTBkMiIsInN1YiI6IjY2MTc0ZTg5N2UxMmYwMDE2M2YxNWM4OSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4rXGBSDbiKST6RdATvUUD3H6d71Aj46O4PLqxn27lVs\n */"],"names":["TrendingMovies","lazy","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","_useState","useState","_useState2","movies","setMovies","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","value","_yield$fetchTrendMovi","results","_context","prev","next","fetchTrendMovies","concat","sent","abrupt","stop","_x","apply","arguments","useEffect","searchValue","get","fetch","_ref2","_callee2","_context2","onHandleSubmit","_ref3","_callee3","e","_context3","preventDefault","currentTarget","elements","search","query","target","reset","_x2","_jsxs","_Fragment","children","onSubmit","className","css","_jsx","type","name","required","length","route","undefined","axios","url","fetchInfo","data","accept","t0","Error"],"sourceRoot":""}